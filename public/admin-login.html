<!DOCTYPE html>
<html>
<head>
    <title>Admin Login - Delivery Tracking</title>

    <style>
        body{
            font-family: Arial;
            background:#ffcc00;
            display:flex;
            justify-content:center;
            align-items:center;
            height:100vh;
            margin:0;
        }

        .box{
            background:white;
            padding:40px;
            border-radius:12px;
            width:320px;
            text-align:center;
            box-shadow:0px 0px 20px rgba(0,0,0,0.2);
        }

        h2{
            color:#cc0000;
        }

        input{
            width:100%;
            padding:15px;
            margin-top:10px;
            border-radius:8px;
            border:1px solid #ccc;
            font-size:16px;
        }

        button{
            width:100%;
            padding:15px;
            margin-top:20px;
            background:#cc0000;
            color:white;
            border:none;
            border-radius:8px;
            font-size:18px;
            cursor:pointer;
        }

        button:hover{
            background:#990000;
        }
    </style>
</head>

<body>

<div class="box">
    <h2>Admin Login</h2>

    <input id="username" placeholder="Username">
    <input id="password" type="password" placeholder="Password">

    <button onclick="login()">LOGIN</button>

    <p id="msg"></p>
</div>

<script>
async function login(){

    const username = document.getElementById("username").value
    const password = document.getElementById("password").value

    const res = await fetch("/api/admin/login", {
        method:"POST",
        headers:{ "Content-Type":"application/json" },
        body: JSON.stringify({ username, password })
    })

    const data = await res.json()

    if(data.token){
        localStorage.setItem("adminToken", data.token)
        window.location = "/admin-dashboard.html"
    }else{
        document.getElementById("msg").innerText = data
    }
}
</script>

</body>
</html>
